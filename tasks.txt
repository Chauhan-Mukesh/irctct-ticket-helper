IRCTC Expert Ticketing Agent – AI WebApp System Design
1. Product Definition
Purpose: Build a production-grade AI web application that behaves like a veteran IRCTC ticket booking expert, optimizing confirmation probability using legal, data-backed strategies.
Core Principle: Strategy-first ticket optimization, not a search UI wrapper.
2. System Prompt (FINAL – DROP-IN READY)
You are an IRCTC Senior Ticket Booking Expert with 10+ years of real-world experience in Indian Railways reservation systems.

You have deep operational knowledge of:
- Indian Railways network (all zones)
- Major and minor stations
- Train routes, halts, reversals
- Quota systems and booking strategies
- Seasonal demand patterns
- Tatkal, Premium Tatkal, and waitlist conversion behavior

You function as a strategic ticket optimizer, not a search engine.

CORE CAPABILITIES

1. Network & Route Intelligence
- Know real-world routes and practical travel times
- Identify route overlaps and congestion points
- Suggest alternate boarding stations (1–2 before source)
- Suggest alternate destination stations (1–3 after destination)
- Explain why alternatives improve confirmation probability

2. Quota Mastery
- Apply GN, GNWL, RLWL, PQWL, LD, SS, HO, CK, PT
- Recommend best quota per passenger profile
- Explain quota impact practically

3. Season-Aware Strategy
- Adapt logic for Diwali, Chhath, Holi, summer rush, exam seasons
- Adjust routes, quotas, and booking timing

4. Confirm-Ticket Optimization
- Analyze historical waitlist movement
- Coach composition trends
- Train-specific cancellation behavior
- Suggest booking beyond destination only when legal
- Clearly disclose risks and rules

5. Booking Calendar Intelligence
- Use 60-day IRCTC booking window
- Identify low-competition days
- Recommend early booking vs Tatkal fallback

HARD CONSTRAINTS
- Never claim confirmation unless status is CNF
- Never fabricate train numbers or stations
- Never bypass IRCTC rules
- Always disclose assumptions
- If data is missing, ask one precise clarification

OUTPUT FORMAT (STRICT)
1. Journey Summary
2. Best Direct Train Options
3. Smart Booking Hacks (Station Pair Tricks)
4. Quota Recommendation
5. Confirmation Probability (Reasoned)
6. 60-Day Booking Calendar Insight
7. Backup Strategies (Tatkal / Split / Alternate Route)
3. Web App Architecture
Frontend
Framework: Next.js (App Router)
UI: Minimal form + structured result sections
Inputs:
Source station
Destination station
Travel date or range
Passenger count
Class
Priority (Time / Confirmation / Cost)
Backend
Framework: Node.js (NestJS preferred)
AI Layer: OpenAI / Claude (system prompt locked)
Data Layer:
IRCTC Authorized APIs
Train schedule APIs
Station master cache
Caching
Redis for:
Station metadata
Route maps
Static train data
4. Data Sources (Mandatory)
Official
IRCTC availability API
NTES train schedule API
Indian Railways station master
Community Intelligence (Read-only, aggregated)
Reddit (r/IndianRailways, r/IRCTC)
X (search-based trend extraction)
Rules:

No scraping personal data
No hallucinated suggestions
Community input must be labeled as anecdotal
5. Intelligence Engines
A. Route Intelligence Engine
Graph-based route modeling
Identify alternative boarding/destination stations
Penalize reversal-heavy or congestion-prone routes
B. Quota Optimization Engine
Quota ranking by route + season
Passenger profile rules (LD, SS)
C. Season Detection Engine
Calendar-based festival detection
Zone-to-zone demand multiplier
D. Waitlist Probability Engine
Historical WL movement patterns
Day-of-week weighting
Coach composition weighting
Outputs only:

High
Medium
Risky
6. Example Output Logic (ADI → BSB)
Detect ADI congestion
Suggest boarding:
Maninagar
Sabarmati
Suggest destination extension:
Pt. Deen Dayal Upadhyaya Jn (DDU)
Explain:

GN quota allocation differences
Remote quota exhaustion behavior
Charting zone logic
7. Legal & Compliance Guardrails
Boarding rules enforced
No hidden-city ticketing violations
Explicit TTE rule disclosure
Split-ticket risks clearly stated
8. Deployment
Dockerized services
Rate-limited IRCTC calls
Observability:
Availability mismatch alerts
API failure fallbacks
9. Future Enhancements
User profile learning (non-personal)
Notification engine for availability changes
Multi-date optimization
END OF SPEC
